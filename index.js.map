{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst PIXABAY_API_KEY = '49339894-31872ba4c3578b0a106bd0c96';\r\nconst PIXABAY_BASE_URL = 'https://pixabay.com/api/';\r\n\r\nexport async function getImages(searchTerm) {\r\n  const result = await axios.get(PIXABAY_BASE_URL, {\r\n    params: {\r\n      key: PIXABAY_API_KEY,\r\n      q: searchTerm,\r\n      image_type: 'photo',\r\n      orientation: 'horizontal',\r\n      safesearch: true,\r\n      lang: 'en',\r\n    },\r\n  });\r\n\r\n  if (result.data.hits.length === 0) {\r\n    throw new Error(\r\n      'Sorry, there are no images matching your search query. Please try again!'\r\n    );\r\n  }\r\n\r\n  return result.data;\r\n}","import SimpleLightbox from 'simplelightbox';\r\n\r\nlet lightbox;\r\n\r\nexport const createGalleryMarkup = ({\r\n  webformatURL: smallIMG,\r\n  largeImageURL: largeIMG,\r\n  tags: alt,\r\n  likes,\r\n  views,\r\n  comments,\r\n  downloads,\r\n}) => {\r\n  return `\r\n    <li class=\"gallery-item\">\r\n      <a class=\"gallery-link\" href=\"${largeIMG}\">\r\n        <img\r\n          class=\"gallery-image\"\r\n          src=\"${smallIMG}\"\r\n          alt=\"${alt}\"\r\n          loading=\"lazy\"\r\n        />\r\n      </a>\r\n      <ul class=\"description-list\">\r\n        <li class=\"description\"><span>Likes:</span> ${likes}</li>\r\n        <li class=\"description\"><span>Views:</span> ${views}</li>\r\n        <li class=\"description\"><span>Comments:</span> ${comments}</li>\r\n        <li class=\"description\"><span>Downloads:</span> ${downloads}</li>\r\n      </ul>\r\n    </li>`;\r\n};\r\n\r\nexport const createLightBox = () => {\r\n  if (!lightbox) {\r\n    lightbox = new SimpleLightbox('.gallery a', {\r\n      captions: true,\r\n      captionDelay: 250,\r\n      captionsData: 'alt',\r\n    });\r\n  } else {\r\n    lightbox.refresh();\r\n  }\r\n};","import iziToast from 'izitoast';\r\nimport { getImages } from './js/pixabay-api';\r\nimport { createGalleryMarkup, createLightBox } from './js/render-functions';\r\n\r\nconst elements = {\r\n  searchForm: document.querySelector('.form'),\r\n  imageGallery: document.querySelector('.gallery'),\r\n  loaderBackdrop: document.querySelector('.backdrop'),\r\n};\r\n\r\nconst displayLoader = () =>\r\n  elements.loaderBackdrop.classList.remove('is-hidden');\r\nconst removeLoader = () => elements.loaderBackdrop.classList.add('is-hidden');\r\n\r\nconst showErrorToast = message => {\r\n  iziToast.error({\r\n    messageColor: '#fff',\r\n    backgroundColor: '#ef4040',\r\n    position: 'topRight',\r\n    message,\r\n    timeout: 5000,\r\n  });\r\n};\r\n\r\nconst handleSearchSubmit = event => {\r\n  event.preventDefault();\r\n  const searchQuery = event.currentTarget.elements['search-text'].value.trim();\r\n\r\n  if (searchQuery === '') {\r\n    showErrorToast('Please enter a search query!');\r\n    return;\r\n  }\r\n\r\n  displayLoader();\r\n  elements.imageGallery.innerHTML = '';\r\n\r\n  getImages(searchQuery)\r\n    .then(({ hits }) => {\r\n      if (!hits.length) {\r\n        iziToast.error({\r\n          messageColor: '#fff',\r\n          close: false,\r\n          backgroundColor: '#ef4040',\r\n          position: 'topRight',\r\n          message:\r\n            'Sorry, there are no images matching your search query. Please try again!',\r\n          timeout: 10000,\r\n        });\r\n        return;\r\n      }\r\n\r\n      const galleryMarkup = hits.map(createGalleryMarkup).join('');\r\n      elements.imageGallery.innerHTML = galleryMarkup;\r\n      createLightBox();\r\n      elements.searchForm.reset();\r\n    })\r\n    .catch(error => {\r\n      iziToast.error({\r\n        messageColor: '#fff',\r\n        backgroundColor: '#ef4040',\r\n        position: 'topRight',\r\n        message: `Oops! ${\r\n          error.message || 'Something went wrong. Please try again later.'\r\n        }`,\r\n        timeout: 10000,\r\n      });\r\n    })\r\n    .finally(() => {\r\n      removeLoader();\r\n    });\r\n};\r\n\r\nelements.searchForm.addEventListener('submit', handleSearchSubmit);"],"names":["PIXABAY_API_KEY","PIXABAY_BASE_URL","getImages","searchTerm","result","axios","lightbox","createGalleryMarkup","smallIMG","largeIMG","alt","likes","views","comments","downloads","createLightBox","SimpleLightbox","elements","displayLoader","removeLoader","showErrorToast","message","iziToast","handleSearchSubmit","event","searchQuery","hits","galleryMarkup","error"],"mappings":"owBAEA,MAAMA,EAAkB,qCAClBC,EAAmB,2BAElB,eAAeC,EAAUC,EAAY,CAC1C,MAAMC,EAAS,MAAMC,EAAM,IAAIJ,EAAkB,CAC/C,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,IACP,CACL,CAAG,EAED,GAAIC,EAAO,KAAK,KAAK,SAAW,EAC9B,MAAM,IAAI,MACR,0EACN,EAGE,OAAOA,EAAO,IAChB,CCtBA,IAAIE,EAEG,MAAMC,EAAsB,CAAC,CAClC,aAAcC,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,sCAE6BL,CAAQ;AAAA;AAAA;AAAA,iBAG7BD,CAAQ;AAAA,iBACRE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,sDAKkCC,CAAK;AAAA,sDACLC,CAAK;AAAA,yDACFC,CAAQ;AAAA,0DACPC,CAAS;AAAA;AAAA,WAKtDC,EAAiB,IAAM,CAC7BT,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAIU,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,IACd,aAAc,KACpB,CAAK,CAIL,ECtCMC,EAAW,CACf,WAAY,SAAS,cAAc,OAAO,EAC1C,aAAc,SAAS,cAAc,UAAU,EAC/C,eAAgB,SAAS,cAAc,WAAW,CACpD,EAEMC,EAAgB,IACpBD,EAAS,eAAe,UAAU,OAAO,WAAW,EAChDE,EAAe,IAAMF,EAAS,eAAe,UAAU,IAAI,WAAW,EAEtEG,EAAiBC,GAAW,CAChCC,EAAS,MAAM,CACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAAAD,EACA,QAAS,GACb,CAAG,CACH,EAEME,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEtE,GAAIC,IAAgB,GAAI,CACtBL,EAAe,8BAA8B,EAC7C,MACD,CAEDF,IACAD,EAAS,aAAa,UAAY,GAElCf,EAAUuB,CAAW,EAClB,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClB,GAAI,CAACA,EAAK,OAAQ,CAChBJ,EAAS,MAAM,CACb,aAAc,OACd,MAAO,GACP,gBAAiB,UACjB,SAAU,WACV,QACE,2EACF,QAAS,GACnB,CAAS,EACD,MACD,CAED,MAAMK,EAAgBD,EAAK,IAAInB,CAAmB,EAAE,KAAK,EAAE,EAC3DU,EAAS,aAAa,UAAYU,EAClCZ,IACAE,EAAS,WAAW,OAC1B,CAAK,EACA,MAAMW,GAAS,CACdN,EAAS,MAAM,CACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAAS,SACPM,EAAM,SAAW,+CAC3B,GACQ,QAAS,GACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,GACN,CAAK,CACL,EAEAF,EAAS,WAAW,iBAAiB,SAAUM,CAAkB"}